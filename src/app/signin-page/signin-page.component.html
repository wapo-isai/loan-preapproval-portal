<div class="signin-container">
  <div class="left-panel">
    <div class="logo">MortgageEase</div>
    <div class="welcome-text">
      <h1>Welcome back</h1>
      <p>Sign in to continue with your mortgage application.</p>
    </div>
    <div class="footer-text">
      &copy; 2025 MortgageEase. All rights reserved.
    </div>
  </div>

  <div class="right-panel">
    <div class="form-container">
      <h2>Sign in</h2>
      <p class="sub-heading">Enter your credentials to access your account</p>

      <form [formGroup]="signinForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="email">Email</label>
          <div class="input-wrapper">
            <i class="fas fa-envelope input-icon"></i>
            <input
              type="email"
              id="email"
              placeholder="name@example.com"
              formControlName="email"
            />
          </div>
          <div
            *ngIf="email?.invalid && (email?.dirty || email?.touched)"
            class="error-message"
          >
            <small *ngIf="email?.errors?.['required']"
              >Email is required.</small
            >
            <small *ngIf="email?.errors?.['email']"
              >Please enter a valid email.</small
            >
          </div>
        </div>

        <div class="form-group">
          <div class="label-wrapper">
            <label for="password">Password</label>
            <a routerLink="/forgot-password" class="forgot-password-link"
              >Forgot password?</a
            >
          </div>
          <div class="input-wrapper">
            <i class="fas fa-lock input-icon"></i>
            <input
              [type]="passwordVisible ? 'text' : 'password'"
              id="password"
              placeholder="••••••••"
              formControlName="password"
            />
            <button
              type="button"
              class="visibility-toggle"
              (click)="togglePasswordVisibility()"
            >
              <i
                class="fas"
                [ngClass]="passwordVisible ? 'fa-eye-slash' : 'fa-eye'"
              ></i>
            </button>
          </div>
          <div
            *ngIf="password?.invalid && (password?.dirty || password?.touched)"
            class="error-message"
          >
            <small *ngIf="password?.errors?.['required']"
              >Password is required.</small
            >
          </div>
        </div>

        <div *ngIf="loginError" class="error-message server-error">
          <small>{{ loginError }}</small>
        </div>

        <button
          type="submit"
          class="btn btn-submit"
          [disabled]="signinForm.invalid"
        >
          Sign in
        </button>
      </form>

      <p class="signup-link">
        Don't have an account? <a routerLink="/signup">Sign up</a>
      </p>
    </div>
  </div>
</div>
